sudo: required
dist: xenial

before_install:
  - sudo apt-get update
  - sudo /etc/init.d/postgresql stop
  - sudo /etc/init.d/postgresql start 11

before_script:
  - psql -c 'create database sqlalchemy_searchable_test;' -U postgres

language: python
env:
  - TOXENV=py-sqla{1.3}
matrix:
  include:
    - python: 3.4
    - python: 3.5
    - python: 3.6
    - python: 3.7
    - python: pypy3
    - python: 3.7
      env: TOXENV=lint
install:
  - pip install tox
script:
  - tox
